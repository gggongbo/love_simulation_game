# 개발계획: 사랑은 네크로노미콘에 써 있어

## 프로젝트 개요
웹 기반 비주얼 노벨 게임으로 연애 시뮬레이션, 공포, 방탈출 요소를 결합한 게임입니다.

## 게임 구조
- **총 4개 챕터**: 각 히로인별로 챕터 구성
- **게임 플로우**: 대화 시스템 → 선택지 적용 → 호감도 변경 → 모든 이벤트 완료 후 방탈출 요소 등장
- **4명의 히로인**: 각 챕터마다 다른 히로인과의 스토리 진행

## 기술 스택 선택: Tailwind CSS

### 📊 성능 비교 분석 결과

**Styled-Components vs Tailwind CSS 벤치마크:**
- **Tailwind CSS**: 85ms 렌더링 시간
- **Styled-Components**: 148ms 렌더링 시간
- **성능 차이**: Tailwind가 **63% 더 빠름**

**번들 크기 비교:**
- **Tailwind CSS**: ~950KB (purge 후)
- **Styled-Components**: ~1.2MB (런타임 포함)

### 🎯 Tailwind CSS 선택 이유

1. **게임 성능 최적화**: 63% 빠른 렌더링으로 부드러운 게임 UX 제공
2. **웹 게임 최적화**: 작은 번들 크기로 빠른 로딩 시간
3. **빠른 UI 개발**: 대화창, 버튼, 메뉴 등 게임 UI 요소 신속 구현
4. **유지보수성**: 유틸리티 클래스로 코드 가독성 향상
5. **확장성**: 향후 기능 추가 시 일관된 디자인 시스템

### 🛠️ 최종 기술 스택

```json
{
  "프론트엔드": "React + TypeScript + Vite",
  "스타일링": "Tailwind CSS",
  "상태관리": "Context API + localStorage",
  "아키텍처": "FSD 하이브리드"
}
```

## 아키텍처 선택: FSD 하이브리드 접근

### 📋 아키텍처 분석 결과

**FSD(Feature-Sliced Design) 검토:**
- ✅ 장점: 비즈니스 지향적, 확장성 우수, 모듈 간 느슨한 결합
- ❌ 단점: 높은 진입 장벽, 작은 프로젝트에는 오버헤드
- 🔍 결론: 순수 FSD는 우리 프로젝트에 과도하지만, 일부 개념 적용 가능

### 🏗️ 수정된 프로젝트 구조 (FSD 하이브리드)

```
src/
├── app/                    # 앱 초기화 (FSD 개념 적용)
│   ├── providers/          # Context, Router 등
│   ├── store/              # 전역 상태 관리
│   └── styles/             # 전역 스타일
├── pages/                  # 페이지 컴포넌트 (FSD 개념)
│   ├── TitleScreen/
│   ├── GameScreen/
│   └── SettingsScreen/
├── features/               # 핵심 게임 기능 (FSD 개념 적용)
│   ├── dialogue/           # 대화 시스템
│   │   ├── ui/
│   │   ├── model/
│   │   └── api/
│   ├── choices/            # 선택지 시스템
│   ├── affection/          # 호감도 시스템
│   ├── inventory/          # 인벤토리 시스템
│   └── puzzles/            # 퍼즐 시스템
├── entities/               # 게임 엔티티 (FSD 개념)
│   ├── character/          # 캐릭터 엔티티
│   ├── chapter/            # 챕터 엔티티
│   └── item/               # 아이템 엔티티
├── widgets/                # 복합 UI 컴포넌트 (FSD 개념)
│   ├── DialogueBox/
│   ├── ChoiceButtons/
│   └── GameMenu/
├── shared/                 # 공유 자원 (FSD 개념)
│   ├── ui/                 # 공통 UI 컴포넌트
│   ├── lib/                # 유틸리티 함수
│   ├── hooks/              # 커스텀 훅
│   └── constants/          # 상수
├── data/                   # 게임 데이터 (게임 특화)
│   ├── chapters/           # 챕터별 스토리
│   ├── characters/         # 캐릭터 데이터
│   └── items/              # 아이템 데이터
└── assets/                 # 정적 자산
    ├── images/
    └── audio/
```

### 🎯 하이브리드 접근의 장점

1. **FSD의 좋은 개념들 적용**:
   - 기능별 모듈화 (features/)
   - 계층적 구조 (entities → features → widgets → pages)
   - 공유 자원 분리 (shared/)

2. **게임 프로젝트에 맞는 조정**:
   - 게임 데이터 별도 관리 (data/)
   - 단순화된 구조로 개발 속도 향상
   - 과도한 복잡성 제거

3. **확장성 확보**:
   - 향후 기능 추가 시 쉽게 확장 가능
   - 각 feature가 독립적으로 개발 가능

## 대화 스크립트 작성 방법
**중요**: 모든 대화 스크립트는 AI와 대화를 통해 구성해야 합니다.
- 각 챕터별로 AI와 협업하여 대화 내용 작성
- 히로인의 성격과 스토리에 맞는 대화 구성
- 선택지와 호감도 변화를 고려한 대화 트리 설계

## 개발 순서 (TODO List)

### 1단계: 기초 설정 및 프레임워크
- [ ] **setup-project**: 프로젝트 기본 설정 (React + TypeScript + Vite + Tailwind CSS)

### 2단계: 핵심 게임 시스템 구축
- [ ] **vn001-title-screen**: 타이틀 화면 표시 (게임 제목, 배경 이미지, 메뉴 버튼)
- [ ] **vn002-dialogue**: 대화 표시 시스템 (대화 상자, 화자 이름, 텍스트 진행) - 4개 챕터 구조 고려
- [ ] **chapter-structure**: 챕터 시스템 구축 (4개 챕터, 히로인별 구성)
- [ ] **vn006-visuals**: 배경 및 스프라이트 시스템 (이미지 로딩, 전환 효과)
- [ ] **vn007-settings**: 설정 메뉴 (텍스트 속도, BGM/SFX 볼륨 조절)

### 3단계: 대화 스크립트 작성 (AI 협업)
- [ ] **dialogue-script-ch1**: 챕터 1 대화 스크립트 작성 (AI와 대화하여 구성)
- [ ] **dialogue-script-ch2**: 챕터 2 대화 스크립트 작성 (AI와 대화하여 구성)
- [ ] **dialogue-script-ch3**: 챕터 3 대화 스크립트 작성 (AI와 대화하여 구성)
- [ ] **dialogue-script-ch4**: 챕터 4 대화 스크립트 작성 (AI와 대화하여 구성)

### 4단계: 상호작용 시스템
- [ ] **vn003-choices**: 선택지 메커니즘 (선택 버튼, 스토리 분기) - 각 챕터별 적용
- [ ] **vn004-affection**: 호감도 시스템 (4명 히로인별 호감도 추적, 선택지 연동)
- [ ] **vn005-save-load**: 저장/불러오기 기능 (게임 상태 저장, 여러 슬롯 관리)

### 5단계: 방탈출 요소 (이벤트 완료 후 활성화)
- [ ] **es002-inventory**: 인벤토리 시스템 (아이템 수집, 인벤토리 UI)
- [ ] **es001-interaction**: 환경 상호작용 (클릭 가능한 오브젝트, 조사 기능) - 각 챕터 이벤트 후 활성화
- [ ] **es003-puzzles**: 퍼즐 해결 시스템 (아이템 조합, 코드 입력, 순서 맞추기) - 챕터별 방탈출 요소

### 6단계: 공포 요소
- [ ] **ho001-atmosphere**: 분위기 공포 (배경 음악, 주변 소리, 시각적 왜곡)
- [ ] **ho002-psychological**: 심리적 공포 (불안한 주제, 신뢰할 수 없는 내레이션)
- [ ] **ho003-jump-scares**: 점프 스케어 (선택사항 - 갑작스러운 소리/시각적 변화)

### 7단계: 엔딩 시스템
- [ ] **en001-multiple-endings**: 멀티 엔딩 시스템 (4명 히로인 호감도 기반 다양한 결말)

### 8단계: 완성 및 테스트
- [ ] **testing-integration**: 통합 테스트 및 디버깅 (모든 시스템 연동 확인)
- [ ] **polish-optimization**: 게임 폴리싱 및 최적화 (UI/UX 개선, 성능 최적화)

## 의존성 관계
- 대화 시스템 → 선택지 시스템 → 호감도 시스템 → 멀티 엔딩
- 챕터 구조 → 대화 스크립트 → 선택지 적용
- 인벤토리 → 환경 상호작용 → 퍼즐 해결
- 설정 메뉴 → 공포 요소 (오디오 조절)

## 특별 주의사항
1. **대화 스크립트**: 반드시 AI와 대화하여 작성
2. **챕터 구조**: 4개 챕터, 각 히로인별 독립적 스토리
3. **방탈출 타이밍**: 각 챕터의 모든 이벤트 완료 후 활성화
4. **호감도 시스템**: 4명 히로인별 개별 추적
5. **아키텍처**: FSD 하이브리드 접근으로 확장성과 단순성 균형
6. **성능 최적화**: Tailwind CSS로 63% 빠른 렌더링 성능 확보

---
*이 문서는 개발 진행에 따라 업데이트됩니다.* 